(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(2),o=a.n(r),i=a(3),u=a(4),h=a(6),m=a(5),s=a(7);a(14);var f=function(e){var t=e.time,a=e.weatherCode,n="weather-icon wi wi-owm-".concat(t>7&&t<18?"day":"night","-").concat(a);return c.a.createElement("i",{className:n})};var l=function(e){var t=e.city,a=e.temperature;return c.a.createElement("div",{className:"weather-details"},c.a.createElement("div",{className:"city"},t),c.a.createElement("div",{className:"temperature"},a," \xb0 C"))},p=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={icon:"",time:1,city:"",temperature:"",weatherCode:"",fetching:!0},a.fetchWeatherData=function(e,t){var n="units=metric&lang=ru&appid=".concat("459fc1107972f9ca8e39abe5f2583722");fetch("".concat("http://api.openweathermap.org").concat("/data/2.5/weather","?q=").concat(e,",").concat(t,"&").concat(n)).then(function(e){return e.json()}).then(function(t){var n=(new Date).getHours();a.setState({time:n,city:e,temperature:Math.round(t.main.temp),weatherCode:t.weather[0].id,fetching:!1})}).catch(function(e){return console.error(e)})},a.fetchIP=function(){fetch("//freegeoip.net/json/").then(function(e){return e.json()}).then(function(e){var t=e.city,n=e.country_code;return a.fetchWeatherData(t,n)}).catch(function(e){return console.log(e)})},a}return Object(s.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchIP()}},{key:"render",value:function(){var e=this.state,t=e.fetching,a=e.icon,n=e.time,r=e.city,o=e.temperature,i=e.weatherCode;return t?c.a.createElement("div",{className:"app"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):c.a.createElement("div",{className:"app","data-hour":n},c.a.createElement(f,{icon:a,weatherCode:i,time:n}),c.a.createElement(l,{city:r,temperature:o}))}}]),t}(n.Component);a(15);o.a.render(c.a.createElement(p,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.9f1169dd.chunk.js.map