(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{14:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(8),s=a.n(n),i=a(4),o=(a(14),a.p+"static/media/preloader.7a2846ce.svg"),u=a(1);var p=function({city:e,temperature:t}){return null===e||null===t?Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:o,alt:"Loading..."})}):Object(u.jsxs)("div",{className:"weather-details",children:[Object(u.jsx)("div",{className:"city",children:e}),Object(u.jsxs)("div",{className:"temperature",children:[Math.floor(t)," \xb0 C"]})]})},h=a(5),d=a.n(h),l=a(7),j=a(3),b=a(13);const w=()=>b.get("http://api.ipstack.com/check?access_key=".concat("431b14bdd798646063dbe3728107af4a")).then((e=>e.data)),O=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.abrupt("return",b.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(t.city,"&units=metric&appid=056b91ad44e2ed8399949215e7ec5215")).then((e=>e.data)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m="weather/SET_CITY",g="weather/SET_LAT",y="weather/SET_LON",f="weather/SET_TEMPERATURE",v="weather/SET_WEATHER_CODE",x="weather/TOGGLE_FETCHING",E={city:null,lat:"",lon:"",temperature:null,weatherCode:803,fetching:!0},T=e=>({type:g,lat:e}),D=e=>({type:y,lon:e}),C=e=>({type:x,isFetch:e});var k=(e=E,t)=>{switch(t.type){case m:return Object(j.a)(Object(j.a)({},e),{},{city:t.city});case g:return Object(j.a)(Object(j.a)({},e),{},{lat:t.lat});case y:return Object(j.a)(Object(j.a)({},e),{},{lon:t.lon});case f:return Object(j.a)(Object(j.a)({},e),{},{temperature:t.temp});case v:return Object(j.a)(Object(j.a)({},e),{},{weatherCode:t.code});case x:return Object(j.a)(Object(j.a)({},e),{},{fetching:t.isFetch});default:return e}};class _ extends c.a.Component{componentDidMount(){this.props.getAdress(),this.props.getTemp()}render(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(p,{city:this.props.city,temperature:this.props.temperature})})}}var F=Object(i.b)((e=>({city:e.weatherData.city,temperature:e.weatherData.temperature})),{getAdress:()=>function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a=e.sent,t((r=a.city,{type:m,city:r})),t(T(a.latitude)),t(D(a.longitude));case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),getTemp:()=>function(){var e=Object(l.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:a=e.sent,t(C(!1)),t((c=a.main.temp,{type:f,temp:c})),t((r=a.weather[0].id,{type:v,code:r})),t(T(a.coord.lat)),t(D(a.coord.lon));case 8:case"end":return e.stop()}var r,c}),e)})));return function(t){return e.apply(this,arguments)}}(),toggleIsFetching:C})(_);var N=Object(i.b)((e=>({weatherCode:e.weatherData.weatherCode})),{})((({weatherCode:e})=>{const t=(new Date).getHours(),a="weather-icon wi wi-owm-".concat(t>7&&t<18?"day":"night","-").concat(e);return Object(u.jsx)("i",{className:a})}));var S=Object(i.b)((e=>({isFetching:e.weatherData.fetching})))((e=>{const t=(new Date).getHours();return Object(u.jsxs)("div",{className:"app","data-hour":t,children:[Object(u.jsx)(N,{}),Object(u.jsx)(F,{})]})}));var A=Object(i.b)((e=>({city:e.weatherData.city,latitude:e.weatherData.lat,longitude:e.weatherData.lon})),{})((function({city:e,latitude:t,longitude:a}){return console.log(t.toString()),console.log(a),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(S,{})})})),H=(a(55),a(6)),I=a(24);let L=Object(H.c)({weatherData:k});var G=Object(H.d)(L,Object(H.a)(I.a));s.a.render(Object(u.jsx)(i.a,{store:G,children:Object(u.jsx)(A,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.3bac2822.chunk.js.map