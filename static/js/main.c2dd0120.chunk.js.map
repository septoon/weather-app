{"version":3,"sources":["components/WeatherDetails.jsx","api/api.js","redux/weather-reducer.js","components/WeatherDetailsContainer.jsx","components/WeatherIcon.jsx","components/Main.jsx","App.jsx","redux/redux-store.js","index.js"],"names":["WeatherDetails","city","temperature","className","getAdressData","a","axios","response","data","getTemperature","then","resp","SET_CITY","SET_TEMPERATURE","SET_WEATHER_CODE","TOGGLE_FETCHING","initialState","weatherCode","fetching","toggleIsFetching","isFetch","type","weatherReducer","state","action","temp","code","WeatherDetailsContainer","React","Component","componentDidMount","this","props","getAdress","getTemp","render","connect","weatherData","dispatch","main","weather","id","time","Date","getHours","isFetching","data-hour","App","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"8MASeA,MATf,UAAwB,KAAEC,EAAF,YAAQC,IAC5B,OACI,sBAAKC,UAAU,kBAAf,UACI,qBAAKA,UAAU,OAAf,SAAuBF,IACvB,sBAAKE,UAAU,cAAf,UAA8BD,EAA9B,iB,sCCFZ,MAEaE,EAAa,uCAAI,4BAAAC,EAAA,sEACJC,MAAA,kDAHX,qCAEe,cACtBC,EADsB,yBAErBA,EAASC,MAFY,2CAAJ,qDAKbC,EAAc,uCAAG,4BAAAJ,EAAA,sEACLD,IADK,cACtBG,EADsB,yBAErBD,MAAA,2DAA8DC,EAASN,KAAvE,yDACNS,MAAKC,GACGA,EAAKH,QAJc,2CAAH,qDCPrBI,EAAW,mBACXC,EAAkB,0BAClBC,EAAmB,2BACnBC,EAAkB,0BAElBC,EAAe,CACnBf,KAAM,GACNC,YAAa,KACbe,YAAa,IACbC,UAAU,GAyBCC,EAAoBC,IAAD,CAAeC,KAAMN,EAAiBK,YAcvDE,MApCQ,CAACC,EAAQP,EAAcQ,KAC5C,OAAQA,EAAOH,MACb,KAAKT,EACH,OAAO,2BAAIW,GAAX,IAAkBtB,KAAMuB,EAAOvB,OAEjC,KAAKY,EACH,OAAO,2BAAIU,GAAX,IAAkBrB,YAAasB,EAAOC,OAExC,KAAKX,EACH,OAAO,2BAAIS,GAAX,IAAkBN,YAAaO,EAAOE,OAExC,KAAKX,EACH,OAAO,2BAAIQ,GAAX,IAAkBL,SAAUM,EAAOJ,UAErC,QACE,OAAOG,ICxBb,MAAMI,UAAgCC,IAAMC,UACxCC,oBACIC,KAAKC,MAAMC,YACXF,KAAKC,MAAME,UAGfC,SACI,OACI,mCACI,cAAC,EAAD,CAAgBlC,KAAM8B,KAAKC,MAAM/B,KACjBC,YAAa6B,KAAKC,MAAM9B,iBAYzCkC,mBALUb,IAAD,CACpBtB,KAAMsB,EAAMc,YAAYpC,KACxBC,YAAaqB,EAAMc,YAAYnC,eAGK,CAAE+B,UDWjB,2CAAM,WAAOK,GAAP,eAAAjC,EAAA,sEACND,IADM,OACvBG,EADuB,OAE7B+B,GAPsBrC,EAOLM,EAASN,KAPL,CAAYoB,KAAMT,EAAUX,UAKpB,iCALPA,QAKO,OAAN,sDCX4BiC,QDgB9B,2CAAM,WAAOI,GAAP,eAAAjC,EAAA,sEACJI,IADI,OACrBF,EADqB,OAE3B+B,EAASnB,GAAiB,IAC1BmB,GAZsBb,EAYElB,EAASgC,KAAKd,KAZjB,CAAYJ,KAAMR,EAAiBY,UAaxDa,GAZsBZ,EAYEnB,EAASiC,QAAQ,GAAGC,GAZvB,CAAYpB,KAAMP,EAAkBY,UAQ9B,iCARLA,MADAD,IASK,OAAN,sDChBuCN,oBAA/CiB,CAAoET,GCXpES,mBAJUb,IAAD,CACpBN,YAAaM,EAAMc,YAAYpB,eAGK,GAAzBmB,EAbK,EAAGnB,kBACnB,MACMyB,GADO,IAAIC,MACCC,WAEZzC,EAAS,iCADIuC,EAAO,GAAKA,EAAO,GAAM,MAAQ,QACrC,YAA0CzB,GAEzD,OAAO,mBAAGd,UAAWA,OCQViC,mBAASb,IAAD,CAAasB,WAAYtB,EAAMc,YAAYnB,YAAnDkB,EAZDJ,IAEZ,MACMU,GADO,IAAIC,MACCC,WAClB,OACE,sBAAKzC,UAAU,MAAM2C,YAAWJ,EAAhC,UACI,cAAC,EAAD,IACA,cAAC,EAAD,UCEOK,MARf,WACI,OACI,mCACI,cAAC,EAAD,O,uBCLZ,IAAIC,EAAWC,YAAgB,CAC3BZ,YAAaf,IAKF4B,MAFDC,YAAYH,EAAUI,YAAgBC,MCApDC,IAASnB,OACP,cAAC,IAAD,CAAUe,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEDK,SAASC,eAAe,W","file":"static/js/main.c2dd0120.chunk.js","sourcesContent":["function WeatherDetails({ city, temperature }) {\n    return (\n        <div className=\"weather-details\">\n            <div className=\"city\">{city}</div>\n            <div className=\"temperature\">{temperature} &deg; C</div>\n        </div>\n    );\n}\n \nexport default WeatherDetails;\n","import * as axios from 'axios'\r\n\r\nconst apiKey = '431b14bdd798646063dbe3728107af4a'\r\n\r\nexport const getAdressData =  async () => {\r\n  const response =  await axios.get(`http://api.ipstack.com/check?access_key=${apiKey}`)\r\n  return response.data\r\n}\r\n\r\nexport const getTemperature = async () => {\r\n  const response = await getAdressData()\r\n  return axios.get(`http://api.openweathermap.org/data/2.5/weather?q=${response.city}&units=metric&appid=056b91ad44e2ed8399949215e7ec5215`)\r\n  .then(resp => {\r\n    return resp.data\r\n  })\r\n}","import { getAdressData, getTemperature } from \"../api/api\"\r\n\r\nconst SET_CITY = 'weather/SET_CITY'\r\nconst SET_TEMPERATURE = 'weather/SET_TEMPERATURE'\r\nconst SET_WEATHER_CODE = 'weather/SET_WEATHER_CODE'\r\nconst TOGGLE_FETCHING = 'weather/TOGGLE_FETCHING'\r\n\r\nconst initialState = {\r\n  city: '',\r\n  temperature: null,\r\n  weatherCode: 803,\r\n  fetching: true\r\n}\r\n\r\nconst weatherReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CITY: {\r\n      return {...state, city: action.city}\r\n    }\r\n    case SET_TEMPERATURE: {\r\n      return {...state, temperature: action.temp}\r\n    }\r\n    case SET_WEATHER_CODE: {\r\n      return {...state, weatherCode: action.code}\r\n    }\r\n    case TOGGLE_FETCHING: {\r\n      return {...state, fetching: action.isFetch}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setCity = (city) => ({type: SET_CITY, city})\r\nconst setTemperature = (temp) => ({type: SET_TEMPERATURE, temp})\r\nconst setWeatherCode = (code) => ({type: SET_WEATHER_CODE, code})\r\nexport const toggleIsFetching = (isFetch) => ({type: TOGGLE_FETCHING, isFetch})\r\n\r\nexport const getAdress = () => async (dispatch) => {\r\n  const response = await getAdressData()\r\n  dispatch(setCity(response.city))\r\n}\r\n\r\nexport const getTemp = () => async (dispatch) => {\r\n  const response = await getTemperature()\r\n  dispatch(toggleIsFetching(false))\r\n  dispatch(setTemperature(response.main.temp))\r\n  dispatch(setWeatherCode(response.weather[0].id))\r\n}\r\n\r\nexport default weatherReducer\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport WeatherDetails from './WeatherDetails';\nimport { getAdress, getTemp, toggleIsFetching } from '../redux/weather-reducer'\n\nclass WeatherDetailsContainer extends React.Component {\n    componentDidMount () {\n        this.props.getAdress()\n        this.props.getTemp()\n    }\n\n    render () {\n        return (\n            <>\n                <WeatherDetails city={this.props.city}\n                                temperature={this.props.temperature} />\n            </>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    city: state.weatherData.city,\n    temperature: state.weatherData.temperature\n})\n \nexport default connect(mapStateToProps, { getAdress, getTemp, toggleIsFetching }) (WeatherDetailsContainer);\n","import React from 'react';\nimport {connect} from 'react-redux'\n\nconst WeatherIcon = ({ weatherCode }) => {\n    const date = new Date();\n    const time = date.getHours();\n    const timeOfDay = (time > 7 && time < 18) ? 'day' : 'night';\n    const className = `weather-icon wi wi-owm-${timeOfDay}-${weatherCode}`;\n\n    return <i className={className}></i>;\n}\n\nconst mapStateToProps = (state) => ({\n    weatherCode: state.weatherData.weatherCode\n})\n \nexport default connect(mapStateToProps, {}) (WeatherIcon);","import WeatherDetailsContainer from \"./WeatherDetailsContainer\"\r\nimport WeatherIcon from \"./WeatherIcon\"\r\nimport '../App.css';\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Main = (props) => {\r\n\r\n  const date = new Date()\r\n  const time = date.getHours()\r\n  return (\r\n    <div className=\"app\" data-hour={time}>\r\n        <WeatherIcon />\r\n        <WeatherDetailsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect((state) => ({isFetching: state.weatherData.fetching})) (Main)\r\n","import React from 'react';\nimport './App.css';\n// import WeatherIcon from './components/WeatherIcon';\n// import WeatherDetailsContainer from './components/WeatherDetailsContainer';\nimport Main from './components/Main';\n\nfunction App() {\n    return (\n        <>\n            <Main />\n        </>\n    )\n}\n\nexport default App\n","import {  applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport weatherReducer from './weather-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nlet reducers = combineReducers({\r\n    weatherData: weatherReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport './index.css';\nimport store from './redux/redux-store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n   document.getElementById('root')\n);"],"sourceRoot":""}